<title>WattWatch - Energy Goals</title>

<div class="row m-3">
  <!-- Left column -->
  <div class="col-lg-8 mb-4">
    <div class="card shadow mb-4">
      <div class="card-header py-3">
        <h6 class="m-0 font-weight-bold text-primary">Set Your Monthly Goals</h6>
      </div>
      <div class="card-body">
        <form id="energyGoalsForm">
          <!-- Target Bill -->
          <div class="form-group">
            <label for="targetBill">Target Monthly Bill (â‚±)</label>
            <input type="number" class="form-control" id="targetBill" placeholder="e.g., 2000" min="1" required>
          </div>

          <!-- Target Usage
          <div class="form-group">
            <label for="targetUsage">Target Energy Usage (kWh)</label>
            <input type="number" class="form-control" id="targetUsage" placeholder="e.g., 350" min="1" required>
          </div> -->

          <!-- Goal Date -->
          <div class="form-group" id="goalDateWrapper" style="cursor: pointer;">
            <label for="goalDate">Goal Deadline</label>
            <input 
              type="text" 
              class="form-control" 
              id="goalDate" 
              placeholder="Select a date" 
              required>
          </div>

          <button id="saveGoals" type="submit" class="btn btn-primary">Save Goal</button>
        </form>
      </div>
    </div>
  </div>

  <!-- Right column -->
  <div class="col-lg-4 mb-4">
    <!-- Current Goals -->
    <div class="card shadow mb-4">
      <div class="card-header py-3">
        <h6 class="m-0 font-weight-bold text-info">Current Goals</h6>
      </div>
      <div class="card-body">
        <ul id="currentGoals" class="list-group small">
          <li class="list-group-item text-muted">No current goals</li>
        </ul>
        <br />
        <button id="clearGoals" class="btn btn-outline-danger btn-sm">Clear</button>
      </div>
    </div>
  </div>
</div>

<!-- scripts -->
 <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script src="js/goals.js"></script>

<script>
  flatpickr("#goalDate", {
    dateFormat: "Y-m-d",
    minDate: "today",
    defaultDate: "today",
    onChange: function(selectedDates, dateStr) {
      const today = new Date();
      today.setHours(0,0,0,0);

      const selected = selectedDates[0];
      if (selected < today) {
        showMessage("You cannot select a past date.", "danger");
        this.clear();
      }
    }
  });
</script>
